---
import { getCollection } from "astro:content";
import { getLocale, t } from '../../i18n/utils';

// Get current locale
const locale = getLocale(Astro.url.pathname);

// Get the office hours from the siteInfo collection
let officeHours;
try {
  const siteInfoEntries = await getCollection("siteInfo");
  officeHours = siteInfoEntries.find(entry => entry.id === "office-hours");
} catch (error) {
  // Collection might not exist yet when first setting up the project
  console.log("Office hours not found or collections not yet available");
}

// Current year for copyright
const currentYear = new Date().getFullYear();

// Render office hours content if available
let OfficeHoursContent = null;
if (officeHours) {
  const { Content } = await officeHours.render();
  OfficeHoursContent = Content;
}
---




<footer class="bg-[#0d1830] pt-8 pb-10 relative">

  <!-- Logo on the right -->
<!-- Logo on the right -->
<div class="absolute right-12 top-1/2 -translate-y-1/2">
  <a
    href="https://www.lvsc.eu/lid/ariane-mader"
    target="_blank"
    rel="noopener noreferrer"
    aria-label="View my professional registration"
  >
    <div class="bg-gray-300 p-1.5 rounded-md inline-block hover:bg-gray-200 transition-colors">
      <img
        src="/uploads/logo-beroepsregister.png"
        alt="Registered professional logo"
        class="h-12 w-auto"
        loading="lazy"
      />
    </div>
  </a>
</div>

  <!-- Copyright (keep original centered formatting) -->
  <div class="pt-1 mt-1 text-center greenBrightFont text-sm">
    <p>&copy; {currentYear} Ariane Mader. {t('common.footer.copyright', locale)}</p>
    <p class="mt-2">
      <a href={locale === 'de' ? '/de/privacy-terms-conditions' : '/privacy-terms-conditions'} class="hover:text-gray-300 mr-4">
        {t('common.footer.privacyTerms', locale)}
      </a>
    </p>
  </div>

</footer>